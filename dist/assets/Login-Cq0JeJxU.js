import{_ as b,r as w,g as v,b as F,h,d as t,e as s,w as r,i as k,j as d,p as V,f as x,k as y,l as E,m as I,n as B,q as C,s as N}from"./index-CwP9YyYn.js";/* empty css                  *//* empty css                 *//* empty css              */import{m as S}from"./md5-DFal9VNF.js";const p=a=>(V("data-v-a03be31c"),a=a(),x(),a),U={class:"login-body"},q={class:"login-container"},M=p(()=>t("div",{class:"head"},[t("div",{class:"name"},[t("div",{class:"title"},"点餐后台"),t("div",{class:"tips"},"大学食堂点餐系统")])],-1)),L=p(()=>t("div",{style:{color:"#333"}},[d("登录表示您已同意"),t("a",null,"《服务条款》")],-1)),j={__name:"Login",setup(a){const m=w(null),e=v({ruleForm:{username:"",password:""},checked:!0,rules:{username:[{required:"true",message:"账户不能为空",trigger:"blur"}],password:[{required:"true",message:"密码不能为空",trigger:"blur"}]}}),c=async()=>{m.value.validate(u=>{if(u)y.post("/adminUser/login",{userName:e.ruleForm.username||"",passwordMd5:S(e.ruleForm.password)}).then(o=>{E("token",o),window.location.href="/"});else return console.log("error submit!!"),!1})};return(u,o)=>{const i=I,n=B,_=C,f=N,g=k;return F(),h("div",U,[t("div",q,[M,s(g,{"label-position":"top",rules:e.rules,model:e.ruleForm,ref_key:"loginForm",ref:m,class:"login-form"},{default:r(()=>[s(n,{label:"账号",prop:"username"},{default:r(()=>[s(i,{type:"text",modelValue:e.ruleForm.username,"onUpdate:modelValue":o[0]||(o[0]=l=>e.ruleForm.username=l),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),s(n,{label:"密码",prop:"password"},{default:r(()=>[s(i,{type:"password",modelValue:e.ruleForm.password,"onUpdate:modelValue":o[1]||(o[1]=l=>e.ruleForm.password=l),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),s(n,null,{default:r(()=>[L,s(_,{style:{width:"100%"},type:"primary",onClick:c},{default:r(()=>[d("立即登录")]),_:1}),s(f,{modelValue:e.checked,"onUpdate:modelValue":o[2]||(o[2]=l=>e.checked=l),onChange:o[3]||(o[3]=l=>!e.checked)},{default:r(()=>[d("下次自动登录")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])])])}}},G=b(j,[["__scopeId","data-v-a03be31c"]]);export{G as default};
